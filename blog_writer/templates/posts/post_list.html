{% load static %}
<!-- templates/index.html -->

<html>
    <link rel="stylesheet" href="{% static 'post/style.css' %}">
<head>
    <title>Ryan's Blog</title>
    
</head>
<body>

    <!-- Add a NAVBAR -->
    <div class="navbar">
        <div>üìù Ryan's Rice Hub</div>
        <div>
            <a href="/">Home</a>
            <a href="#">About</a>
            <a href="#">Contact</a>
        </div>
    </div>

    <h1>Welcome to My Blog</h1>

    <div class="tab-container">
        <div class="tab-switch">
            <button class="tab-btn active" onclick="switchTab('comments')">Timely Comment</button>
            <button class="tab-btn" onclick="switchTab('blogs')">Long Blogs</button>
        </div>
    
        <!-- Timely Comments -->
        <div id="comments" class="tab-content active">
            {% for comment in comments %}
            <div class="comment-entry">
                <strong>Admin &gt;</strong> {{ comment.content }}
                <div class="timestamp">{{ comment.timestamp }}</div>
            </div>
            {% empty %}
            <div class="no-posts">No comments yet.</div>
            {% endfor %}
        </div>
    
        <!-- Long Blogs -->
        <div id="blogs" class="tab-content">
            {% for blog in blogs %}
            <div class="blog-preview" onclick="expandBlog(this)">
                <div class="blog-header">
                    <h3 class="blog-title">{{ blog.title }}</h3>
                    <p class="blog-desc">{{ blog.description }}</p>
                    <small class="reading-time">Reading time: {{ blog.reading_time }} mins</small>
                </div>
                <div class="blog-content">
                    <p>{{ blog.content }}</p>
                </div>
            </div>
            {% empty %}
            <div class="no-posts">No blogs uploaded yet.</div>
            {% endfor %}
        </div>
    </div>

</body>

<script>
    function switchTab(tabId) {
        const tabs = document.querySelectorAll('.tab-content');
        const buttons = document.querySelectorAll('.tab-btn');
    
        tabs.forEach(tab => tab.classList.remove('active'));
        buttons.forEach(btn => btn.classList.remove('active'));
    
        document.getElementById(tabId).classList.add('active');
        document.querySelector(`.tab-btn[onclick*="${tabId}"]`).classList.add('active');
    }
    
    function expandBlog(element) {
        element.classList.toggle('expanded');
    }
</script>
</html>